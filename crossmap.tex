%% BioMed_Central_Tex_Template_v1.06
%%                                      %
%  bmc_article.tex            ver: 1.06 %
%                                       %

%%IMPORTANT: do not delete the first line of this template
%%It must be present to enable the BMC Submission system to
%%recognise this template!!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                     %%
%%  LaTeX template for BioMed Central  %%
%%     journal article submissions     %%
%%                                     %%
%%          <8 June 2012>              %%
%%                                     %%
%%                                     %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                 %%
%% For instructions on how to fill out this Tex template           %%
%% document please refer to Readme.html and the instructions for   %%
%% authors page on the biomed central website                      %%
%% http://www.biomedcentral.com/info/authors/                      %%
%%                                                                 %%
%% Please do not use \input{...} to include other tex files.       %%
%% Submit your LaTeX manuscript as one .tex document.              %%
%%                                                                 %%
%% All additional figures and files should be attached             %%
%% separately and not embedded in the \TeX\ document itself.       %%
%%                                                                 %%
%% BioMed Central currently use the MikTex distribution of         %%
%% TeX for Windows) of TeX and LaTeX.  This is available from      %%
%% http://www.miktex.org                                           %%
%%                                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% additional documentclass options:
%  [doublespacing]
%  [linenumbers]   - put the line numbers on margins

%%% loading packages, author definitions

%\documentclass[twocolumn]{bmcart}
% uncomment this for twocolumn layout and comment line below
\documentclass{bmcart}

%%% Load packages
%\usepackage{amsthm,amsmath}
%\RequirePackage{natbib}
\RequirePackage{hyperref}
\usepackage[utf8]{inputenc} %unicode support
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{booktabs}
%\usepackage[applemac]{inputenc} %applemac support if unicode package fails
%\usepackage[latin1]{inputenc} %UNIX support if unicode package fails

\usepackage{etoolbox}

%% Set margin notes
\makeatletter
\patchcmd{\@addmarginpar}{\ifodd\c@page}{\ifodd\c@page\@tempcnta\m@ne}{}{}
\makeatother
\reversemarginpar{}
\setlist[description]{leftmargin=\parindent,labelindent=\parindent}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                             %%
%%  If you wish to display your graphics for   %%
%%  your own use using includegraphic or       %%
%%  includegraphics, then comment out the      %%
%%  following two lines of code.               %%
%%  NB: These line *must* be included when     %%
%%  submitting to BMC.                         %%
%%  All figure files must be submitted as      %%
%%  separate graphics through the BMC          %%
%%  submission process, not included in the    %%
%%  submitted article.                         %%
%%                                             %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%\def\includegraphic{}
%\def\includegraphics{}


%%% Begin ...
\begin{document}

%%% Start of article front matter
\begin{frontmatter}

\begin{fmbox}
\dochead{Software}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the title of your article here     %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Scientific Names Checklists Cross-Mapping Tool
  ``gn\_crossmap''}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the authors here                   %%
%%                                          %%
%% Specify information, if available,       %%
%% in the form:                             %%
%%   <key>={<id1>,<id2>}                    %%
%%   <key>=                                 %%
%% Comment or delete the keys which are     %%
%% not used. Repeat \author command as much %%
%% as required.                             %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author[
   addressref={aff1},
   corref={aff1},
   email={mozzheri@illinois.edu}
]{\inits{DYM}\fnm{Dmitry Y.} \snm{Mozzherin}}
\author[
   addressref={aff2},
   email={wouter.addink@naturalis.nl}
]{\inits{WA}\fnm{Wouter} \snm{Addink}}
\author[
   addressref={aff3},
   email={rui.figueira@iict.pt}
]{\inits{RF}\fnm{Rui} \snm{Figueira}}
\author[
   addressref={aff4},
   email={wouter.koch@artsdatabanken.no}
]{\inits{WK}\fnm{Wouter} \snm{Koch}}
\author[
   addressref={aff4},
   email={toril.moen@artsdatabanken.no}
]{\inits{TLM}\fnm{Toril L.} \snm{Moen}}
\author[
   addressref={aff5},
   email={dremsen@mbl.edu}
]{\inits{DR}\fnm{David} \snm{Remsen}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the authors' addresses here        %%
%%                                          %%
%% Repeat \address commands as much as      %%
%% required.                                %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\address[id=aff1]{%                    % unique id
  \orgname{Univ ersity of Illinois},    % university, etc
  \street{1816 South Oak St.},         %
  \city{Champaign},                    % city
  \state{IL},
  \postcode{61820},
  \cny{US}                             % country
}
\address[id=aff2]{%                    % unique id
  \orgname{Naturalis},
  \street{Postbus 9517, 2300 RA},
  \city{Leiden},                       % city
  \cny{Holland}
}
\address[id=aff3]{%                    % unique id
  \orgname{Instituto de Investigação Científica e Tropical},
  \street{R Junqueira 5,30,86 Lisboa},
  \city{Lisbon},                       % city
  \postcode{1300--342},
  \cny{Portugal}                       % country
}
\address[id=aff4]{%                    % unique id
  \orgname{Norwegian Biodiversity Information Centre},
  \street{7491 Trondheim},
  \cny{Norway}
}
\address[id=aff5]{%                    % unique id
  \orgname{Marine Biological Laboratory},
  \street{7 MBL Street},
  \city{Woods Hole}
  \state{MA}
  \postcode{02543}
  \cny{US}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter short notes here                   %%
%%                                          %%
%% Short notes will be after addresses      %%
%% on first page.                           %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{fmbox}% comment this for two column layout

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The Abstract begins here                 %%
%%                                          %%
%% Please refer to the Instructions for     %%
%% authors on http://www.biomedcentral.com  %%
%% and include the section headings         %%
%% accordingly for your article type.       %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{abstractbox}

\begin{abstract} % abstract

  \parttitle{Background} Large checklists that include biological names require
  that the names are validated if we are to promote interoperability of data
  sources. Lists may present the same names in different ways or have errors in
  spelling or author information. Validation allows typographical mistakes and
  erroneous names to be identified as a prelude to replacing incorrect items
  with names that are endorsed by one or more taxonomic authorities.  Usually,
  lists of names are stored in a some sort of a spreadsheet, and the curator of
  the list needs to compare each entry with a nomenclatural source like Index
  Fungorum, ZooBank, or IPNI, and/or with a taxonomic sources like AlgaeBase or
  with a federating portal such as Catalogue of Life. Comparing such lists by
  hand is tedious and the process may generate its own errors.

  \parttitle{Results} We created a convenience tool \textit{gn\_crossmap} which
  intelligently matches names from lists and writes the results back into the
  source. The tool is able to process 1 million names in about 10 hours.

  \parttitle{Conclusions} The \textit{gn\_crossmap} tool greatly simplifies and
  accelerates mapping of names from one source to another source. Such mapping
  allows to find overlap between sources, validate names, find synonyms,
  discover outdated data.

\end{abstract}

%Comment paddy I believe the paper should be set in the broadest relevant context, and this should be evident in both the abstract and Intro.    What is the goal? Is the goal here simply to try to map names in any source to CoL.  Or a tool that can map names in any source to any other list.  The long term goal should be the second. We list all of the possible problems, and then the possible solutions.  There can be problems with incorrect spellings, problems with different legitimate variants of name-strings, use of junior synonyms.  That is, the system should be customizable to suit different users. There are, for example, governmental agencies that are not allowed to change the list of names and they MUST turn back a contemporary name to an outdated name; there is another class of use case that acknowledges that taxonomists hold different views and want to have a framework of names that they can live with. Then there are idiosyncratic cases - such as the Australian Fisheries that require users to adopt common names. Then, with the problems dissected out, we can then consider the strategies.  It seems that there are four options: management by hand, algorithmic normalization, algorithmic standardization and algorithmic resolution.  We should distinguish normalization - mapping to a reference list; and standardization where everyone maps to the same reference list.  CoL has always been a champion of standardization. GN is a champion of algorithmic resolution that is informed by authoritative lists. }



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The keywords begin here                  %%
%%                                          %%
%% Put each keyword in separate \kwd{}.     %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{keyword}
\kwd{biodiversity}
\kwd{scientific name}
\kwd{matcher}
\end{keyword}

% MSC classifications codes, if any
%\begin{keyword}[class=AMS]
%\kwd[Primary ]{}
%\kwd{}
%\kwd[; secondary ]{}
%\end{keyword}

\end{abstractbox}
%
%\end{fmbox}% uncomment this for twcolumn layout

\end{frontmatter}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The Main Body begins here                %%
%%                                          %%
%% Please refer to the instructions for     %%
%% authors on:                              %%
%% http://www.biomedcentral.com/info/authors%%
%% and include the section headings         %%
%% accordingly for your article type.       %%
%%                                          %%
%% See the Results and Discussion section   %%
%% for details on how to create sub-sections%%
%%                                          %%
%% use \cite{...} to cite references        %%
%%  \cite{koon} and                         %%
%%  \cite{oreg,khar,zvai,xjon,schn,pond}    %%
%%  \nocite{smith,marg,hunn,advi,koha,mouse}%%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%% start of article main body
% <put your article body there>
\newpage
\section*{Background}

  \marginpar{Rio: \\Usecases: Portuguese Plant List, preparation of a citizen
  scientist checklist for publication thorugh GBIF to national checklist,
  Quality check of national GBIF data sets against a reference checklist.}

  Checklists of scientific names are commonly used for collecting biodiversity
  information. For example citizen scientists create checklists to organize
  their observations. Environmentalists, ecologists, molecular biologists
  create checklists as a part of their investigations. Various governmental
  agencies and public organizations create lists corresponding to their
  particular interests --- endangerous species lists, national bird lists,
  lists of envasive species etc. Countries catalogue their biodiversity
  information into national checklists. International organizations create
  lists as well. For example Global Biodiversity Information Facility
  aggregates lists from GBIF country nodes into a massive global database,
  Catalogue of Life analyses data from Global Species Databases before
  incorporation the data into the master checklist. Large digitization projects
  like iDigBio collect and analyse lists from museums nationwide.

  Small checklists can be easily maintained manually, but with their growth an
  algorithmic approach becomes invaluable. There are many challenges in
  comparison of name-strings --- some of them are summarized in
  Table~\ref{table:challanges}. Quite often exact string comparison is not
  sufficient for matching name-strings because there are many spelling variants
  of the same name~\cite{Patterson2016}. For example  \textbf{Carex scirpoidea
  ssp.\ convoluta (Kük.) Dunlop} and \textbf{Carex scirpoidea Michx.\
  subsp.\ convoluta (Kükenthal 1909) D.A. Dunlop 1998} name-strings are
  variants of the same name. Sometimes checklists contain misspellings which
  need to be discovered, some names-strings represent more than one taxon
  (homonyms), other contain authorships corresponding to citations instead of a
  nomenclatural event. Challenges described in this paragraph and
  Table~\ref{table:challenges} as a rule are not isolated from each other and
  mixed in combinations of various complexity.

  Taxonomy and nomenclature constantly change and evolve. It is often crucially
  important to keep lists up to date and bring them in accordance to current
  taxonomic opinions.

\begin{table}[!htb]
  \begin{center}
    \caption{Examples of scientific names cross-mapping challenges
    }\label{table:challanges}
    \begin{tabular}{lll}
    \toprule
    \textbf{Difference in preprocessing} & \{Genus:Aus, Species:bus\} & Aus bus \\
    \textbf{Infraspecific rank spelling} & Aus bus forma cus & Aus bus f.\ cus
    \\
    \textbf{Presense/absense of ranks} & Aus bus f.\ cus & Aus bus cus \\
    \textbf{Variability in authorship} & Aus bus Linnaeus & Aus bus L. \\
    \textbf{Homonymic matches} & Aus Linnaeus 1788 & Aus Johnson 1819 \\
    \textbf{Presense/absense of authorship} & Aus bus Linnaeus & Aus bus \\
    \textbf{Presense/absense of higher taxa authors} & Aus bus (L.) f.\ cus Smith & Aus bus f. Smith \\
    \textbf{Variability in year} & Aus bus (L.) 1788 & Aus bus (L. 1789) \\
    \textbf{Presense/absense of a year} & Aus bus (L. 1788) & Aus bus (L.) \\
    \textbf{Misspellings} & Aus buss (L. 1788) & Aus bus (L. 1788) \\
    \textbf{Presense/absense of subgenus} & Aus (Dus) bus (L. 1788) & Aus bus (L. 1788) \\
    \textbf{Variability in subgenus format} & Aus (Dus) L. 1788 & Aus subgen. Dus L. 1788 \\
    \textbf{Presense/absense of named hybrids} & xAus bus & Aus bus \\
    \textbf{Variability of named hybrids spelling} & X Aus bus & xAus bus \\
    \textbf{Partial matches (Ex: species level)} & Aus bus cus & xAus bus \\
    \bottomrule
    \end{tabular}
  \end{center}
\end{table}

  PRIOR ART INFORMATION ON CROSSMAPING TOOLS GOES HERE

  Some authors of this paper spent significant effort on creation and editing
  of national species checklists for Norway and Portugal, transform citizen
  scientist observation checklists into GBIF-compatibe datasets, perform
  quality check of GBIF national data, comparing their records with various
  high quality data sources. Others participate in finding dulicated records
  during assemlby stage of the Catalogue of Life, also struggling to create
  stable identifiers for the Catalogue of Life taxa.  To meet their specific
  needs we developed a tool ``\textbf{gn\_crossmap}'' that allows to match
  name-strings list of any length stored in a spreadsheet to almost any
  publically available nomenclatural or taxonomic data source.

  This tool is developed as part of Global Names Architecture, and uses RESTful
  API of Global Names' Resolution service to perform the cross-mapping. The
  crossmapping tool uses spreadsheet information saved into CSV (Comma
  Separated Value) format, intelligently extracts name information from
  corresponding fields and uses multilevel matching algorithms to match
  name-strings to authoritative dataset.This paper describes
  ``\textit{gn\_crossmap}'' and explains its usage.

\section*{Implementation}

The ``\textit{gn\_crossmap}'' tool is implemented as a ``mashap'', i.e.\ it
uses existing remote services to achieve its goals. The main idea behind its
implementation is in reuse of existing tools and algorithms, and wrapping them
in a package that performs cross-mapping of checklists according to its
userbase needs.

The ``\textit{gn\_crossmap}'' tool consists of three components:

\begin{description}
  \item[cross-mapping library] Implements all functionality, and can be called
    from other Ruby programs
  \item[command line tool ``\textit{crossmap}'']
  \item [web-application]
\end{description}

, a
command line tool that can be used from a terminal window, a web-based
application catered for biologists who are infamiliar with programming or
command line interface. The project is written in Ruby language and organized
as two separate repositories. Both use popular Ruby Gem framework to create
reusable Ruby code.

\subsection*{Library}


\begin{itemize}
  \item Implemented as a ``mashup'' to GN resolver
  \item Ruby gem and Ruby web-interface
  \item Installation
    \begin{itemize}
      \item as a gem
      \item as a web-interface
      \item as a docker container
    \end{itemize}
\end{itemize}

\section*{Results and Discussion}
\begin{itemize}
  \item Why it is hard to match a source to a source
    \begin{itemize}
      \item going through web-interfaces of data sources is slow
      \item it is hard to get format right
      \item most often people put data into spreadsheets of their own
        formatting
    \end{itemize}
  \item why it is hard to match name to a name
    \begin{itemize}
      \item differences in spelling
      \item differences in authorship and ranks
      \item some names have homonyms
      \item some names have chresonyms
      \item some names are misspelled
      \item some names do not exist in database
      \item some names do not exist
    \end{itemize}
  \item introduce gn-crossmap
  \item requirements
    \begin{itemize}
      \item able to work with many formats
      \item able to map unknown fields to DarwinCore terms
      \item able to work with datasets of thousands and millions of rows
      \item finds exact matches, canonical form matches, fuzzy matches, partial
        matches
      \item preserves original data
      \item gives information about type of a match (currently used, synonym
        etc)
      \item gives information about confidence score
    \end{itemize}
  \item current problems and future work
    \begin{itemize}
      \item infraspecific ranks in botany
      \item intelligent authorship type recognition
      \item ability to compare concepts
    \end{itemize}
\end{itemize}


\section*{Conclusions}
\begin{itemize}
  \item introduce gn-match
  \item gn-crossmap solves existing problems \ldots
  \item gn-crossmap future work
    \begin{itemize}
      \item infraspecific ranks recognition (botany mostly)
      \item more intelligent work with taxon concepts
      \item more intelligent work with authorships
    \end{itemize}
\end{itemize}

\section*{Availability and Requirements}

Where to find the program etc.

\section*{Abbreviations}


\section*{Author's Contributions}

Who did what

\section*{Acknowledgements}

Grant and people to mention

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                  The Bibliography                       %%
%%                                                         %%
%%  Bmc_mathpys.bst  will be used to                       %%
%%  create a .BBL file for submission.                     %%
%%  After submission of the .TEX file,                     %%
%%  you will be prompted to submit your .BBL file.         %%
%%                                                         %%
%%                                                         %%
%%  Note that the displayed Bibliography will not          %%
%%  necessarily be rendered by Latex exactly as specified  %%
%%  in the online Instructions for Authors.                %%
%%                                                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% if your bibliography is in bibtex format, use those commands:
\bibliographystyle{bmc-mathphys} % Style BST file
\bibliography{refs}      % Bibliography file (usually '*.bib' )

% or include bibliography directly:
% \begin{thebibliography}
% \bibitem{b1}
% \end{thebibliography}

\end{document}
